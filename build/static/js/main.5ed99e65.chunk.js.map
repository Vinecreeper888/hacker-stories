{"version":3,"sources":["App.module.css","check.svg","List.js","InputWithLabel.js","SearchForm.js","App.js","index.tsx"],"names":["module","exports","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","SvgCheck","_ref","svgRef","title","titleId","props","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","SORTS","NONE","list","TITLE","sortBy","AUTHOR","COMMENT","reverse","POINT","Item","item","onRemoveItem","display","width","href","url","author","num_comments","points","type","onClick","className","List","React","useState","sortKey","isReverse","sort","setSort","handleSort","sortFunction","sortedList","map","objectID","StyledLabel","styled","label","StyledInput","input","InputWithLabel","value","onInputChange","isFocused","children","inputRef","useRef","useEffect","current","focus","htmlFor","autoFocus","onChange","styles","StyledSearchForm","form","StyledButton","button","StyledButtonLarge","SearchForm","searchTerm","onSearchInput","onSearchSubmit","onSubmit","disabled","PARAM_SEARCH","StyledContainer","div","StyledHeadlinePrimary","h1","storiesReducer","state","action","isLoading","isError","data","payload","page","concat","filter","story","Error","extractSearchTerm","substring","lastIndexOf","replace","getUrl","LastSearches","lastSearches","onLastSearch","index","App","initialState","localStorage","getItem","setValue","setItem","useSemiPersistentState","setSearchTerm","urls","setUrls","useReducer","stories","dispatchStories","handleLastSearch","handleSearch","handleFetchStories","useCallback","a","lastUrl","axios","get","result","hits","reduce","slice","getLastSearches","event","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5ed99e65.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"App-logo\":\"App_App-logo__25k4o\",\"App-logo-spin\":\"App_App-logo-spin__1e7sv\",\"App-header\":\"App_App-header__xLkWl\",\"App-link\":\"App_App-link__3FsH9\",\"container\":\"App_container__1MQN3\",\"headlinePrimary\":\"App_headlinePrimary__2zaGM\",\"item\":\"App_item__1HZ5q\",\"button\":\"App_button__13pio\",\"buttonSmall\":\"App_buttonSmall__3uZ30\",\"buttonLarge\":\"App_buttonLarge__3E6-f\",\"searchForm\":\"App_searchForm__2JdYJ\",\"label\":\"App_label__v_mMj\",\"input\":\"App_input__2NxBo\"};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M113.636,272.638c-2.689,0-5.267-1.067-7.168-2.97L2.967,166.123c-3.956-3.957-3.956-10.371-0.001-14.329l54.673-54.703 c1.9-1.9,4.479-2.97,7.167-2.97c2.689,0,5.268,1.068,7.169,2.969l41.661,41.676L225.023,27.332c1.9-1.901,4.48-2.97,7.168-2.97l0,0 c2.688,0,5.268,1.068,7.167,2.97l54.675,54.701c3.956,3.957,3.956,10.372,0,14.328L120.803,269.668 C118.903,271.57,116.325,272.638,113.636,272.638z M24.463,158.958l89.173,89.209l158.9-158.97l-40.346-40.364L120.803,160.264 c-1.9,1.902-4.478,2.971-7.167,2.971c-2.688,0-5.267-1.068-7.168-2.97l-41.66-41.674L24.463,158.958z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 297 297\",\n    style: {\n      enableBackground: \"new 0 0 297 297\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.c2b627a8.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\n//import './App.module.css';\nimport './index.css';\nimport {sortBy} from 'lodash';\nimport {ReactComponent as Check} from './check.svg';\n\n\nconst SORTS = {\n  NONE: list => list,\n  TITLE: list => sortBy(list, 'title'),\n  AUTHOR: list => sortBy(list, 'author'),\n  COMMENT: list => sortBy(list, 'num_comments').reverse(),\n  POINT: list => sortBy(list, 'points').reverse(),\n};\n\nconst List = ({ list, onRemoveItem }) => {\n  const [sort, setSort] = React.useState({\n    sortKey: 'NONE',\n    isReverse: false,    \n  });\n\n  const handleSort = sortKey => {\n    const isReverse = sort.sortKey === sortKey && !sort.isReverse;\n    setSort({sortKey: sortKey, isReverse: isReverse});\n\n    setSort({sortKey, isReverse});\n  };\n\n  const sortFunction = SORTS[sort.sortKey];\n  const sortedList = sort.isReverse\n    ? sortFunction(list).reverse()\n    : sortFunction(list);\n\n  return (\n    <div>\n      <div style={{display: 'flex'}}>\n        <span style={{width: '40%'}}>\n          <button type=\"button\" onClick={() => handleSort('TITLE')}>\n            Title\n          </button>\n        </span>\n        <span style={{width: '30%'}}>\n          <button type=\"button\" onClick={() => handleSort('AUTHOR')}>\n            Author\n          </button>\n        </span>\n        <span style={{width: '10%'}}>\n          <button type=\"button\" onClick={() => handleSort('COMMENT')}>\n            Comments\n          </button> \n        </span>\n        <span style={{width: '10%'}}>\n          <button type=\"button\" onClick={() => handleSort('POINT')}>\n            Points\n          </button>\n        </span>\n        <span style={{width: '10%'}}>Actions</span>\n      </div><br/>\n\n      {sortedList.map(item => (\n        <Item\n          key={item.objectID}\n          item={item} \n          onRemoveItem={onRemoveItem}\n        /> \n      ))}\n    </div>\n  )\n};\n\nconst Item = ({ item, onRemoveItem }) => (\n  <div style={{display: 'flex'}}>\n<span style={{width: '40%'}}>\n  <a href={item.url}>{item.title}</a>\n</span>\n<span style={{width: '30%'}}>{item.author}</span>\n<span style={{width: '10%'}}>{item.num_comments}</span>\n<span style={{width: '10%'}}>{item.points}</span>\n<span style={{width: '10%'}}>\n  <button type=\"button\" onClick={() => onRemoveItem(item)} className=\"buttonContainer\">\n    <Check className=\"checkColorChange\"/>\n    Dismiss\n  </button>\n</span>\n</div> \n);\n\nexport default List;\n","import React from 'react';\nimport styled from 'styled-components';\nimport styles from './App.module.css';\n\nconst StyledLabel = styled.label`\n  border-top: 1px solid #171212;\n  border-left: 1px solid #171212;\n  padding-left: 5px;\n  font-size: 24px;\n`;\n\nconst StyledInput = styled.input`\n  border: none;\n  border-bottom: 1px solid #171212;\n  background-color: transparent;\n\n  font-size: 24px;\n`;\n\nconst InputWithLabel = ({\n    id,\n    value,\n    type='text',\n    onInputChange,\n    isFocused,\n    children,\n  }) => {\n    //A: create a ref with React hook\n    const inputRef = React.useRef(null);\n  \n    //C: opt into React's lifecycle with hooks\n    React.useEffect(() => {\n      if(isFocused && inputRef.current) {\n        //D\n        inputRef.current.focus();\n      }\n    }, [isFocused]);\n    return (\n      <>\n        <StyledLabel htmlFor={id}>{children}</StyledLabel>\n        &nbsp;\n        <StyledInput\n        //B ref is passed to the input field\n          ref={inputRef} \n          id={id}\n          type={type}\n          value={value}\n          autoFocus={isFocused}\n          onChange={onInputChange}\n          className={styles.input}\n        />\n      </>\n    );\n  };\n\n  export default InputWithLabel;","import React from 'react';\nimport InputWithLabel from './InputWithLabel';\nimport styled from 'styled-components';\n//import css from './App.module.css';\n\nconst StyledSearchForm = styled.form`\n  padding: 10px 0 20px 0;\n  display: flex;\n  align-items: baseline;\n`;\n\nconst StyledButton = styled.button`\n  background: transparent;\n  border: 1px solid #171212;\n  padding: 5px;\n  cursor: pointer;\n  transition: all 0.1s ease-in;\n\n  &:hover {\n    background: #171212;\n    color: #ffffff;\n  }\n`;\n\nconst StyledButtonLarge = styled(StyledButton)`\n  padding: 10px;\n`;\n\nconst SearchForm = ({\n    searchTerm,\n    onSearchInput,\n    onSearchSubmit\n  }) => (\n    <StyledSearchForm onSubmit={onSearchSubmit}>\n      <InputWithLabel\n        id=\"search\"\n        value={searchTerm}\n        isFocused\n        onInputChange={onSearchInput}\n      >\n        <strong>Search: </strong>\n      </InputWithLabel>\n  \n      <StyledButtonLarge\n        type=\"submit\"\n        disabled={!searchTerm}\n      >\n        Submit\n      </StyledButtonLarge>\n    </StyledSearchForm>\n  );\n\n  export default SearchForm;","import React from 'react';\nimport axios from 'axios';\n// import cs from 'classnames';\nimport styled from 'styled-components';\nimport List from './List';\nimport SearchForm from './SearchForm';\n\n// interface StoriesFetchInitAction {\n//   type: 'STORIES_FETCH_INIT';\n// }\n\n// interface StoriesFetchSuccessAction {\n//   type: 'STORIES_FETCH_SUCCESS';\n//   payload: Stories;\n// }\n\n// interface StoriesFetchFailureAction {\n//   type: 'STORIES_FETCH_FAILURE';\n// }\n\n// interface StoriesRemoveAction {\n//   type: 'REMOVE_STORY';\n//   payload: Story;\n// }\n\n// type StoriesState = {\n//   data: Stories;\n//   isLoading: boolean;\n//   isError: boolean;\n// };\n\n//const API_ENDPOINT = 'https://hn.algolia.com/api/v1/search?query=';\nconst API_BASE = 'https://hn.algolia.com/api/v1';\nconst API_SEARCH = '/search';\nconst PARAM_SEARCH = 'query=';\nconst PARAM_PAGE = 'page=';\n\n//styled components\nconst StyledContainer = styled.div`\n  height: 100vw;\n  padding: 20px;\n  \n  background: #83a4d4;\n  background: linear-gradient(to left, #b6fbff, #83a4d4);\n  color: #171212;\n`;\n\nconst StyledHeadlinePrimary = styled.h1`\n  font-size: 48px;\n  font-weight: 300;\n  letter-spacing: 2px;\n`;\n\n// const StyledItem = styled.div`\n//   display: flex;\n//   align-items: center;\n//   padding-bottom: 5px;\n// `;\n\n// const StyledColumn = styled.span`\n//   padding: 0 5px;\n//   white-space: nowrap;\n//   overflow: hidden;\n//   white-space: nowrap;\n//   text-overflow: ellipse;\n\n//   a {\n//     color: inherit;\n//   }\n\n//   width: ${props => props.width};\n// `;\n\n// const StyledButtonSmall = styled(StyledButton)`\n//   padding: 5px;\n// `;\n\n// type StoriesAction = \n//   | StoriesFetchInitAction\n//   | StoriesFetchSuccessAction\n//   | StoriesFetchFailureAction\n//   | StoriesRemoveAction;\n\n//advanced state mgmt\nconst storiesReducer = (\n  state, \n  action\n  ) => {\n  switch (action.type) {\n    case 'STORIES_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false\n      };\n    case 'STORIES_FETCH_SUCCESS':\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: \n          action.payload.page === 0\n            ? action.payload.list\n            : state.data.concat(action.payload.list),\n        page: action.payload.page,\n      };\n    case 'STORIES_FETCH_FAILURE':\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    case 'REMOVE_STORY':\n      return {\n        ...state,\n        data: state.data.filter(\n          story => action.payload.objectID !== story.objectID\n        ),\n      };\n    default:\n      throw new Error();  \n  }\n};\n  \n//custom hook\nconst useSemiPersistentState = (\n  key, \n  initialState\n)  => {\n  //const isMounted = React.useRef(false);\n\n  const [value, setValue] = React.useState(\n    localStorage.getItem(key) || initialState\n  );\n\n  React.useEffect(() => {\n    // if(!isMounted.current) {\n    //   isMounted.current = true;\n    // } else {\n    //   console.log('A');\n      localStorage.setItem(key,value);\n    //} \n  },[value,key]);\n  \n  return [value, setValue];\n};\n\n\n// const getSumComments = stories => {\n\n//   return stories.data.reduce(\n//     (result,value) => result + value.num_comments,0\n//   );\n// };\n\nconst extractSearchTerm = url => \n  url\n    .substring(url.lastIndexOf('?')+1, url.lastIndexOf('&'))\n    .replace(PARAM_SEARCH,'');\n\nconst getLastSearches = urls => \n  urls\n  .reduce((result,url,index) => {\n    const searchTerm = extractSearchTerm(url);\n\n    if(index === 0) {\n      return result.concat(searchTerm);\n    }\n\n    const previousSearchTerm = result[result.length - 1];\n\n    if(searchTerm === previousSearchTerm) {\n      return result;\n    } else {\n      return result.concat(searchTerm);\n    }\n  },[])\n  .slice(-6)\n  .slice(0,-1)\n  .map(url => extractSearchTerm(url));\n\nconst getUrl = (searchTerm,page) => \n  `${API_BASE}${API_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_PAGE}${page}`; \n\n\n\nconst App = () => {\n  \n  const [searchTerm, setSearchTerm] = useSemiPersistentState('search','');\n\n  const [urls, setUrls] = React.useState([\n    getUrl(searchTerm,0)\n  ]);\n\n  const [stories, dispatchStories] = React.useReducer(\n    storiesReducer,\n    {data: [], page: 0, isLoading: false, isError: false}\n  );\n\n  const handleSearchInput = (\n    event\n  ) => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleSearchSubmit = (\n    event\n    ) => {\n      handleSearch(searchTerm,0);\n      \n      event.preventDefault();\n    };\n    \n    const handleLastSearch = searchTerm => {\n      setSearchTerm(searchTerm,0);\n    };\n\n    const handleSearch = (searchTerm,page) => {\n      const url = getUrl(searchTerm,page);\n      setUrls(urls.concat(url));\n    };\n\n    const handleFetchStories = React.useCallback(async () => {\n  \n    dispatchStories({type: 'STORIES_FETCH_INIT'});\n\n    //for error handling, use try catch\n    try {\n      const lastUrl = urls[urls.length - 1];\n      const result = await axios.get(lastUrl);\n      dispatchStories({\n        type: 'STORIES_FETCH_SUCCESS',\n        payload: {\n        list: result.data.hits,\n        page: result.data.page,\n        }\n      });\n    } catch {\n      dispatchStories({type: 'STORIES_FETCH_FAILURE'});\n    }\n  },[urls]);\n\n  React.useEffect(() => {\n    handleFetchStories();\n  },[handleFetchStories])\n\n  const handleRemoveStory = (item) => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item,\n    });\n  };\n\n  React.useEffect(() => {\n    localStorage.setItem('search',searchTerm);\n  },[searchTerm]);\n\n  const handleMore = () => {\n    const lastUrl = urls[urls.length - 1];\n    const searchTerm = extractSearchTerm(lastUrl);\n    handleSearch(searchTerm,stories.page + 1);\n  };\n\n  const lastSearches = getLastSearches(urls);\n\n  return (\n    <StyledContainer>\n      <StyledHeadlinePrimary>My Hacker Stories</StyledHeadlinePrimary>\n      \n      <SearchForm\n        searchTerm={searchTerm}\n        onSearchInput={handleSearchInput}\n        onSearchSubmit={handleSearchSubmit}\n      /><br/>\n\n      <LastSearches \n        lastSearches={lastSearches}\n        onLastSearch={handleLastSearch}\n      />\n\n      {lastSearches.map((searchTerm, index) => (\n        <button\n          key={searchTerm+index}\n          type=\"button\"\n          onClick={() => handleLastSearch(searchTerm)}\n        >\n          {searchTerm}\n        </button>\n      ))}\n\n      {/* <hr/> */}\n\n      <List list={stories.data} onRemoveItem={handleRemoveStory}/>\n  \n      {stories.isError && <p>Something went wrong ...</p>}\n  \n      {stories.isLoading ? (\n        <p>Loading...</p>\n      ): (\n        <button type=\"button\" onClick={handleMore}>\n          More\n        </button>\n      )}\n    </StyledContainer>\n  );\n};\n\nconst LastSearches = ({lastSearches, onLastSearch}) => (\n  <>\n    {lastSearches.map((searchTerm,index) => (\n      <button\n        key={searchTerm}\n        type=\"button\"\n        onClick={() => onLastSearch(searchTerm)}\n      >\n        {searchTerm}\n      </button>\n    ))}\n  </>\n);\n\n// type SearchFormProps = {\n//   searchTerm: string;\n//   onSearchInput: (event: React.ChangeEvent<HTMLInputElement>) => void;\n//   onSearchSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n// };\n\n//console.log('B:App');\n\n//const sumComments = React.useMemo(() => getSumComments(stories),[stories]);\n\n// type InputWithLabelProps = {\n//   id: string;\n//   value: string;\n//   type?: string;\n//   onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n//   isFocused?: boolean;\n//   children: React.ReactNode;\n// };\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}